
<%- include ('partials/header.ejs') %>
<%- include ('partials/navbar.ejs') %>

<div class="container-formulario">
    <h3> Registro de Checkpoints </h3>
    <hr>
    <div class="wrapper">
    <div class="cadastrar">
        <h4> Cadastrar Checkpoint </h4>
        <hr>
        <form action="/checkpoints/new" method="POST">
            <div class="inserir-dados">
            <label> Nome do Checkpoint:</label>
            <input type="text" name="nomeCheckpoint" value="<%= checkpoints.nomeCheckpoint %>" class="form-input">
            <br>

            <label> Descrição do Checkpoint:</label>
            <textarea id="descricao-checkpoint" name="descricaoCheckpoint" value="<%= checkpoints.descricaoCheckpoint %>" class="form-input">
            </textarea>

            <br>
            <label> Rota do Checkpoint: </label>
            <select name="rota-checkpoint" value="<%= checkpoints.tituloRota %>">
                <option value="#">KKKK</option>
              </select> 
              <br>

            <label> Longitude do Checkpoint:</label>
            <input type="text" name="longitude-checkpoint" value="<%= checkpoints.longitudeCheckpoint %>" class="form-input" required>
            <label>Latitude do Checkpoint:</label>
            <input type="text" name="latitude-checkpoint" value="<%= checkpoints.latitudeCheckpoint %>" class="form-input" required>
            
            <label>Imagem do Checkpoint:</label>
            <div class="cadastro-arquivo" method="post" enctype="multipart/form-data">
                <form action="/upload-foto-checkpoint">
                    <input type="file" name="upload-capa" value="<%= checkpoints.imagemCheckpoint %>" class="btn-arquivo" required>    
                </form>
            </div>
            
            <br><br>
            <div class="div-botao">
                <button name="cadastrar-checkpoint" class="button-cadastro"> Cadastrar </button>
            </div>
            </div>
        </form>
    </div>

        <div class="consultar">
            <h4> Consultar Checkpoint </h4>
            <table>
              <thead>
                <th> Id </th>
                <th> Nome do Checkpoint </th>
                <th> Descrição </th>
                <th> Rota </th>
                <th> Descrição </th>
                <th> Longitude </th>
                <th> Latitude </th>
                <th> Imagem </th>

              </thead>

                <th style="text-align: center;" colspan="2">Ações:</th>
              </thead>
              <tbody>
                <% checkpoints.forEach(checkpoint => { %>
                <tr>
                    <td><%= checkpoints.nomeCheckpoint %></td>
                    <td><%= checkpoints.lagitudeCheckpoint %></td>
                    <td><%= checkpoints.longitudeCheckpoint %></td>
                    <td><%= checkpoints.tituloRota %></td>
                    <td><%= checkpoints.descricaoCheckpoint %></td>
                    <td><a style="color: orange;" href="/checkpoints/edit/<%= checkpoint.nomeCheckpoint %>">Editar</a></td>
                    <td><a style="color: red;" href="/checkpoints/delete/<%= checkpoint.nomeCheckpoint %>">Excluir</a></td>
                </tr>
                <% }) %>
              </tbody>
     
            </table>
    </div>
</div>

<%- include ('partials/footer.ejs') %>

